{% extends "base.html" %}

{% block content %}
<div class="main-content">
    <h1 class="form-title">üîç Symptom Checker</h1>
    
    <div class="card">
        <div class="card-header">
            <strong>‚ö†Ô∏è Disclaimer:</strong> This prototype is for educational/demo purposes only and <strong>not</strong> a medical device. Always consult licensed professionals for diagnosis or treatment.
        </div>
    </div>

    {% if error %}
    <div class="card">
        <div class="card-header" style="background-color: #f8d7da; color: #721c24;">
            <strong>‚ö†Ô∏è Error:</strong> {{ error }}
        </div>
    </div>
    {% endif %}

    {% if results %}
    <div class="card">
        <div class="card-header">
            <h5>Analysis Results</h5>
        </div>
        <div class="card-body">
            <p><strong>Selected Symptoms:</strong> {{ selected_symptoms|join(', ') }}</p>
            
            {% for result in results %}
            <div class="card result-card">
                <div class="card-header">
                    <h6>#{{ result.rank }} - {{ result.disease|title }}</h6>
                </div>
                <div class="card-body">
                    <p><strong>Confidence:</strong> {{ result.confidence }}</p>
                    
                    {% if result.description %}
                    <p><strong>Description:</strong> {{ result.description }}</p>
                    {% endif %}
                    
                    {% if result.precautions %}
                    <div>
                        <strong>Precautions:</strong>
                        <ul style="margin-top: 0.5rem; margin-bottom: 0;">
                            {% for precaution in result.precautions %}
                            <li>{{ precaution }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
            
            <div style="margin-top: 2rem;">
                <a href="{{ url_for('doctors') }}" class="btn btn-primary" style="background: #2E86C1; color: white; padding: 0.8rem 1.5rem; text-decoration: none; border-radius: 5px; transition: 0.3s; display: inline-block;">
                    Find Doctors for Treatment
                </a>
                <a href="{{ url_for('symptom_checker') }}" class="btn btn-secondary" style="background: #6c757d; color: white; padding: 0.8rem 1.5rem; text-decoration: none; border-radius: 5px; transition: 0.3s; display: inline-block; margin-left: 1rem;">
                    Check Different Symptoms
                </a>
            </div>
        </div>
    </div>
    {% endif %}

    <div class="card">
        <div class="card-header">
            <h5>Select Your Symptoms</h5>
        </div>
        <div class="card-body">
            <form method="POST" action="{{ url_for('symptom_checker') }}">
                <div class="symptom-grid">
                    {% for symptom in symptoms %}
                    <div class="symptom-item">
                        <input type="checkbox" id="symptom_{{ loop.index }}" name="symptoms" value="{{ symptom }}">
                        <label for="symptom_{{ loop.index }}">
                            {{ symptom|replace('_', ' ')|title }}
                        </label>
                    </div>
                    {% endfor %}
                </div>
                
                <button type="submit" style="background: #2E86C1; color: white; padding: 1rem 2rem; border: none; border-radius: 5px; cursor: pointer; font-size: 1.1rem; transition: 0.3s; width: 100%;">
                    Analyze Symptoms
                </button>
            </form>
        </div>
    </div>
</div>


{% endblock %} 